id: repro/workspace
language: typescript
layer: application
tags:
- type.app
- build.static
tasks:
  build:
    command: pnpm run build
    deps:
    - ^:build
    outputs:
    - dist
    options:
      cache: true
  serve:
    command: pnpm run serve
    deps:
    - ^:build
    - prepare-env
    preset: server
  dev:
    command: pnpm run dev-serve
    deps:
    - ^:build
    - prepare-env
    preset: server
  prepare-env:
    command: pnpm run prepare-env
    options:
      cache: false
toolchain:
  default: node
